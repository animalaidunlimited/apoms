<div class="tab-container">

    <div>
        <mat-tab-group [selectedIndex]="selected.value"
        (selectedIndexChange)="selected.setValue($event)">

                <mat-tab *ngFor="let tab of tabs; let i = index"
                label="{{tab}}">

                <ng-template mat-tab-label >
                {{tab.value}}

                <mat-icon class="tab-icon"
                        (click)="removeTab(i)">{{tab.icon}}</mat-icon>
                </ng-template>

                    <record-search *ngIf="i == 0" (onOpenEmergencyCase)="openCase($event)" class="tab-icon"></record-search>
                    <patient-record *ngIf="i > 0" [incomingPatient]="tab" class="tab-icon"></patient-record>

                </mat-tab>

                <mat-tab disabled>
                <ng-template mat-tab-label>
                        <button style="background: none; border: none; cursor: pointer;" mat-icon-button (click)="addEmptyTab('New *')">
                        <mat-icon >add_circle</mat-icon>
                        </button>
                </ng-template>
                </mat-tab>

            </mat-tab-group>
            </div>





    </div>

