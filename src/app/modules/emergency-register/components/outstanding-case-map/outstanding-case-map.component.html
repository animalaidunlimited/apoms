<google-map height="75vh" width="100%" [options]="options" [center]="center" [zoom]="zoom">


    <div *ngFor="let vehicle of (locationList$ | async)">
        <div *ngFor="let line of vehicle.options">
            <map-polyline [options]="line"></map-polyline>
        </div>
    </div>

    <div *ngFor="let ambulance of (ambulanceLocations$ | async)">
        <map-marker #ambulanceMarker="mapMarker"
            [position]="{lat: ambulance.vehicleLocation.latLng.lat, lng: ambulance.vehicleLocation.latLng.lng} || {lat:0, lng:0}"
            [options]="{
                icon: { url:'assets/icons/ambulance_van.png', anchor: iconAnchor, labelOrigin: iconLabelOrigin }, 
                zIndex: 100,
                label: ''
            }">
        </map-marker>

    </div>



    <map-info-window>

        <div class="ambulance-window" fxLayout="row wrap" fxLayoutGap="20px" fxLayoutAlign="start">

            <div *ngFor="let patient of infoContent | async">

                <search-result-card class="emergency-card" (openEmergencyCase)="openCase($event)" [record]="patient">
                </search-result-card>

            </div>

        </div>

    </map-info-window>

</google-map>