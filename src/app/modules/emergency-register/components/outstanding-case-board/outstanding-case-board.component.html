<div [formGroup]="searchForm">

<mat-form-field class="search-box" >

  <span matPrefix>
      <mat-icon matSuffix>search</mat-icon>
  </span>
  <input class="search-box" formControlName="searchTerm" autocomplete="off" type="text" matInput>
  <button mat-button *ngIf="searchForm.get('searchTerm').value"
   matSuffix mat-icon-button aria-label="Clear" (click)="searchForm.get('searchTerm').setValue('')">
   <mat-icon>close</mat-icon>
  </button>
 </mat-form-field>
</div>


<div cdkDropListGroup>
    <div class="drag-drop-container" *ngFor="let lane of swimlanes">


      <h2>{{lane.name}}</h2>

      <div
        cdkDropList
        [cdkDropListData]="lane.array"
        class="drag-drop-list"
        (cdkDropListDropped)="drop($event)">
        <div *ngFor="let outstandingCase of lane.array"

        cdkDrag>

        <!-- [ngClass]="{'moved' : outstandingCase.Moved == true}" -->

          <mat-expansion-panel hideToggle>
            <mat-expansion-panel-header
            [@rescueMoved]="outstandingCase.Moved ? 'moved' : 'still'"
            [ngClass]="{'search-candidate' : outstandingCase.SearchCandidate == true}"

            >
              <mat-panel-title>
                <mat-icon (click)="openRescueEdit(outstandingCase)" style="cursor:'pointer'">departure_board</mat-icon>

                {{outstandingCase.EmergencyNumber}}
              </mat-panel-title>
              <mat-panel-description>
                <span class ="dot" [ngClass]="{
                  'dot-red' : outstandingCase.EmergencyCodeId == 1,
                  'dot-green' : outstandingCase.EmergencyCodeId == 2,
                  'dot-yellow' : outstandingCase.EmergencyCodeId == 3}">
                </span>
              </mat-panel-description>
            </mat-expansion-panel-header>

            {{outstandingCase.Rescuer1}}
            {{outstandingCase.Rescuer1ImageURL}}
            {{outstandingCase.Rescuer2}}
            {{outstandingCase.Rescuer2ImageURL}}

            Caller: {{outstandingCase.CallerName}}
            Caller Number: {{outstandingCase.CallerNumber}}

            Call Date: {{outstandingCase.CallDateTime}}

            Location: {{outstandingCase.Location}}

          </mat-expansion-panel>

        </div>
      </div>



  </div>
