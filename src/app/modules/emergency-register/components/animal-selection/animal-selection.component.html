<fieldset [formGroup]="recordForm" class="form-sub-group" >
    <legend class="legend">Patient details</legend>

        <div formArrayName="patients" class="patientsForm" *ngFor="let patient of patients?.controls; let patientIndex = index; let last = last;"  [ngClass]="{'lastPatientInArray': last}">
            <app-emergency-register-patient
                [patientFormInput]="patient"
                [patientIndex]="patientIndex"
                (patientDeleted)="deletePatient($event)"
            ></app-emergency-register-patient>
        </div>
    <div fxLayout="row" fxLayoutAlign="center center">
        <button
            #addPatientBtn
            class="addPatientButton"
            type="button"
            (click)="addPatientRow()"
            mat-mini-fab
            color="primary"
        >
            <mat-icon>add</mat-icon>
        </button>
    </div>
</fieldset>
