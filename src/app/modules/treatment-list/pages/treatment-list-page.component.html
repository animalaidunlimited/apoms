<div class="wrapper">
<form [formGroup]="areas" class="area-wrapper">

    <div class="flex-row flex-wrap flex-center-center dropdown-wrapper">

        <mat-form-field appearance="fill">
        <mat-label>Treatment area</mat-label>
        <mat-select
        [compareWith]="compareAreas"
        formControlName="area">

            <mat-option>N/A</mat-option>
            <mat-option [value]="area" *ngFor="let area of (treatmentAreas | async)" >{{ area.areaName }}</mat-option>
        </mat-select>
        </mat-form-field>


        <mat-form-field >
                <mat-label>Treatment date</mat-label>

                <input matInput
                [matDatepicker]="visitPicker"
                [max]="maxDate"
                formControlName="date"  />
                <mat-datepicker-toggle matIconSuffix [for]="visitPicker"></mat-datepicker-toggle>
                <mat-datepicker #visitPicker></mat-datepicker>

        </mat-form-field>

        <button type="button" [disabled]="currentArea.areaId === 0 || refreshing" mat-mini-fab color="primary" (click)="print()">
            <mat-icon>local_printshop</mat-icon>
        </button>

        <button mat-mini-fab [disabled]="currentArea.areaId === 0 || refreshing" [color]="refreshing ? 'accent' : 'primary'" aria-label="Manual refresh" (click)="refreshTreatmentList()" >

            <mat-icon>refresh</mat-icon>
        </button>

    </div>

</form>

<div class="flex-column">

<app-treatment-list [area]="currentArea" [selectedDate]="selectedDate"></app-treatment-list>

</div>

</div>