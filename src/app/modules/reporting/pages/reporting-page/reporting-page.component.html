<!--<fieldset class="form-sub-group" *ngIf="showTreatmentList">
    <legend class="legend">Treatment list</legend>

    <button class="backButton" mat-mini-fab (click)="showTreatmentList=false">
        <mat-icon>arrow_back</mat-icon>
    </button>

    <app-treatment-list *ngIf="showTreatmentList" [areaName]="currentAreaName"></app-treatment-list>

</fieldset>-->

<fieldset class="form-sub-group">
    <legend class="legend">AAU reporting</legend>

    <button class="refreshButton" mat-mini-fab (click)="initialiseReporting()">
        <mat-icon>refresh</mat-icon>
    </button>

    <div class="flex-row gap-10 flex-center-center" fxLayout.lt-md="row">
        <fieldset class="form-sub-group small-box">
            <div *ngFor = "let data of patientCountData">
                <div *ngIf="data.area === 'Total'">
                    <p class="legend">Total count : {{data.count}}</p>
                </div>
            </div>
        </fieldset>
    </div>

    <div class="flex-column gap-10 flex-center-center" fxLayout.lt-md="column" [formGroup]="reportingDetails">

        <fieldset class="form-sub-group small-box">
            <legend class="legend">Case count by date</legend>

            <div class="flex-row gap-10" style="margin-top: 15px;">
                <mat-slide-toggle [checked]="isStreetTreatChecked | async" (change)="streetTreatChecked($event)" formControlName="streetTreat">StreetTreat</mat-slide-toggle>
                <mat-slide-toggle [checked]="isAdmissionChecked | async" (change)="admissionChecked($event)" formControlName="admission">Admission</mat-slide-toggle>
            </div>

            <mat-form-field class="dateFields">
                <mat-label>Select date</mat-label>
                <input matInput type="date" formControlName="emergencyCaseDate" name = "CaseDate"
                [errorStateMatcher]="errorMatcher" required>
            </mat-form-field>

                <p class="link counts link-large" (click)="openEmergencyCaseDialog()">{{emergencyCaseCount | async}}</p>

        </fieldset>

        <fieldset class="form-sub-group">
            <legend class="legend">Animal count in each area</legend>
            <div *ngIf="patientCountData && patientCountData.length > 0"
                class="count-heading flex-space-between-center flex-row gap-10">
                <div fxFlex>Area</div>
                <div fxFlex="15" class="counts">Inf./Adult</div>
                <div fxFlex="25" class="counts">Priority</div>
                <div fxFlex="7">Total</div>
            </div>

            <div *ngFor = "let value of patientCountData">
                <div class="flex-row flex-space-between-center gap-10" *ngIf="value.area != 'Total'">

                    <div fxFlex class="area link" (click)="openTreatmentList(value.area)">{{value.area}}</div>
                    <div fxFlex="15" class="counts">{{value.infants}} / {{value.adults}}</div>
                    <div fxFlex="25" class="counts"><span style="color:green">{{value.lowPriority}}</span> / <span style="color:gold">{{value.normalPriority}}</span> / <span style="color:red">{{value.highPriority}}</span></div>
                    <div fxFlex="7" class="area">{{value.count}}</div>
                </div>
            </div>
        </fieldset>


        <fieldset class="form-sub-group small-box">
            <legend class="legend">Surgery count by date</legend>

            <mat-form-field class="dateFields">
                <mat-label>Select date</mat-label>
                <input matInput type="date" formControlName="surgeryDate" name = "SurgeryDate"
                [errorStateMatcher]="errorMatcher" required>
            </mat-form-field>

                <p class="link counts link-large" (click)="openSurgeryDetailsDialog()">{{surgeryCount | async}}</p>

        </fieldset>


    </div>

</fieldset>
