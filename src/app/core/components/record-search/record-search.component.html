<mat-form-field class="er-case-search-box" [@expandSearch]="searchShowing ? 'open' : 'closed'">
    <span matPrefix (click)="executeSearch()">
        <mat-icon matSuffix>search</mat-icon>
    </span>
    <input [(ngModel)]="search.searchString" type="text" (keyup.enter)="executeSearch()" matInput>
    <mat-icon matSuffix (click)="toggleSearchBox()">keyboard_arrow_down</mat-icon>
</mat-form-field>



    <div  [@expandSearchForm]="searchShowing ? 'open' : 'closed'" class="search-form" [formGroup]="searchForm">

        <div formArrayName="searchRows" *ngFor="let item of searchForm.get('searchRows').controls; let i = index;">
            <div [formGroupName]="i">

                <div fxLayout="row" fxLayoutGap="20px" fxLayoutAlign="space-between center">
                    <div fxFlex="5">
                        <mat-icon style="cursor: pointer; margin-left:15px;" (click)="removeRow(i)">
                            remove_circle_outline</mat-icon>
                    </div>

                    <div fxFlex>

                        <mat-form-field>
                            <mat-label>Search field</mat-label>
                            <mat-select formControlName="searchField">
                                <mat-option *ngFor="let option of options" [value]="option.searchValue">
                                    {{option.name}}
                                </mat-option>
                            </mat-select>
                        </mat-form-field>

                    </div>
                    <div fxFlex>
                        <mat-form-field>
                            <input type="text" formControlName="searchTerm" matInput placeholder="Search Value">
                        </mat-form-field>
                    </div>
                </div>

            </div>

        </div>

        <mat-icon class="add-search-row" (click)="addRow()">add_circle_outline</mat-icon>

        <button mat-raised-button class="er-search-button" (click)="executeSearch()">
            Search
        </button>
    </div>

